---
title: "Authentication"
description: "Learn how to set up log in or sign up easily in your React app."
sidebarTitle: "Authentication"
---

## Overview

The `@turnkey/react-wallet-kit` makes authentication incredibly simple. With just one function call, you can trigger a login or signup modal that automatically reflects the authentication methods you've configured in your Turnkey dashboard.

## Quick Authentication

The easiest way to handle authentication is using the `handleLogin` function from the `useTurnkey` hook. This will automatically show a modal with all the authentication methods you've enabled in your dashboard.

```tsx
import { useTurnkey } from "@turnkey/react-wallet-kit";

function LoginButton() {
  const { handleLogin } = useTurnkey();

  return <button onClick={handleLogin}>Login / Sign Up</button>;
}
```

When a user clicks this button, they'll see a modal with the authentication options you configured during the [organization setup](/sdks/react/getting-started#turnkey-organization-setup).

<img
  src="/images/sdks/img/react/auth-component-1.png"
  alt="Login modal showing authentication options"
/>

## UI Customization

Want to customize the look and feel of the authentication modal? You can learn more about customizing the UI components in the [UI Customization](/sdks/react/ui-customization) section.

## Without a Modal

If you need more control over the authentication flow, you can also call specific login and signup functions individually, without showing a modal.

```tsx
import { useTurnkey } from "@turnkey/react-wallet-kit";

function CustomAuthButtons() {
  const { loginWithPasskey, signUpWithPasskey } = useTurnkey();

  return (
    <div>
      <button onClick={loginWithPasskey}>Login with Passkey</button>
      <button onClick={signUpWithPasskey}>Sign Up with Passkey</button>
    </div>
  );
}
```

For a complete list of available authentication functions, check out the [SDK Reference](/sdks/react/sdk-reference).

## Knowing When Users Are Authenticated

To check if a user is authenticated, you can use the `authState` variable from the `useTurnkey` hook.

```tsx
import { useTurnkey, AuthState } from "@turnkey/react-wallet-kit";

function AuthStatus() {
  const { authState, user, handleLogin } = useTurnkey();

  return (
    <div>
      {authState === AuthState.Unauthenticated ? (
        <p>Welcome back, {user?.userName}!</p>
      ) : (
        <button onClick={handleLogin}>Log in</button>
      )}
    </div>
  );
}
```

You can also set up an `onAuthenticationSuccess` callback passed in through the `TurnkeyProvider` to handle post-authentication logic, such as redirecting.

```tsx
<TurnkeyProvider
  config={turnkeyConfig}
  callbacks={{
    onAuthenticationSuccess: ({ session }) => {
      console.log("User authenticated:", session);
      router.push("/dashboard");
    },
  }}
>
  {children}
</TurnkeyProvider>
```

## Configuring OAuth

Using OAuth requires additional configuration.

To start, ensure you enable OAuth and check the OAuth providers you want to use in the **wallet kit** section of the [Turnkey dashboard](https://app.turnkey.com). See the [getting started](/sdks/react/getting-started) guide for more details.

<img
  src="/images/sdks/img/react/oauth-panel.png"
  alt="OAuth providers configuration"
/>

Now, you **must** add your client IDs for each OAuth provider you want to use as well as a redirect url in the `TurnkeyProvider`'s config. You can also toggle `openOAuthInPage` to `true` if you want the OAuth flow to replace the current page instead of opening a new popup.

```tsx
<TurnkeyProvider
  config={{
    authProxyId: process.env.NEXT_PUBLIC_AUTH_PROXY_ID || "",
    organizationId: process.env.NEXT_PUBLIC_ORGANIZATION_ID || "",

    auth: {
      oAuthConfig: {
        oAuthRedirectUri: process.env.NEXT_PUBLIC_BASE_URL || "", // Eg: "https://your-app.com/home"
        openOAuthInPage: false, // Set to true if you want OAuth to replace the current page instead of opening a new popup

        // You will typically get these from the OAuth provider's dashboard. Eg: Google developer console.
        googleClientId: process.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID || "",
        appleClientId: process.env.NEXT_PUBLIC_APPLE_CLIENT_ID || "",
        facebookClientId: process.env.NEXT_PUBLIC_FACEBOOK_CLIENT_ID || "",
      },
    },
  }}
>
  {children}
</TurnkeyProvider>
```

You can retrieve the client IDs from the OAuth provider's dashboard.

For example, for Google, you can create a **web** client ID in the [Google developer console](https://console.developers.google.com/apis/credentials).

<img
  src="/images/sdks/img/react/google-dev-console.png"
  alt="The Google developer console"
/>

Your "Log in or sign up" modal should now include the OAuth options you configured.

<img
  src="/images/sdks/img/react/auth-component-2.png"
  alt="Authentication modal with OAuth options"
/>

## Customize Sub-Organization Creation

Need to configure default user names, passkey names, wallet creations or anything sub-org related? You can learn more about customizing the sub-orgs you create in the [Sub-Organization Configuration](/sdks/react/suborg-configuration) section.

## Next Steps

Once your users are authenticated, you can start building embedded wallet functionality! Check out the [Creating Wallets](/sdks/react/creating-wallets) guide to learn how to create and manage wallets in your React app.

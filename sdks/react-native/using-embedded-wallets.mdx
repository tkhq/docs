---
title: "Using embedded wallets"
description: "Learn how to create and manage embedded wallets in your React Native application using Turnkey's Embedded Wallet Kit."
sidebarTitle: "Using embedded wallets"
---

## Overview

The Embedded Wallet Kit provides a straightforward way to create and manage embedded wallets in your React Native application. EWK offers function abstractions to easily create embedded wallets, derive accounts, import and export wallets and more.

Before we start, ensure you're familiar with the concepts of [Wallets](/concepts/wallets) and [Wallet Accounts](/concepts/wallets#accounts).

## Creating an embedded wallet

After your user has authenticated, you can create an embedded wallet using the `createWallet` function from the `useTurnkey` hook.
This will create a new wallet within the end-user's sub-organization with one Ethereum and one Solana wallet account.

```tsx
import { Button, View } from "react-native";
import { useTurnkey } from "@turnkey/react-native-wallet-kit";

export function CreateWalletButton() {
  const { createWallet } = useTurnkey();

  const handleCreateWallet = async () => {
    try {
      const walletId = await createWallet({
        walletName: "My New Wallet",
        accounts: ["ADDRESS_FORMAT_ETHEREUM", "ADDRESS_FORMAT_SOLANA"], // One Ethereum and one Solana account
      });
      console.log("Wallet created:", walletId);
    } catch (error) {
      console.error("Error creating wallet:", error);
    }
  };

  return (
    <View style={{ padding: 16 }}>
      <Button title="Create Wallet" onPress={handleCreateWallet} />
    </View>
  );
}
```

This wallet can then be accessed through the `wallets` array in the `useTurnkey` hook, which contains all embedded wallets associated with the sub-organization and all linked external wallets. This array is updated automatically when wallets are created, updated or removed.

```tsx
import { Text, View } from "react-native";
import { useTurnkey } from "@turnkey/react-native-wallet-kit";

export function WalletList() {
  const { wallets } = useTurnkey();
  return (
    <View style={{ padding: 16 }}>
      {wallets.map((wallet) => (
        <Text key={wallet.walletId}>
          {wallet.walletName} - {wallet.walletId}
        </Text>
      ))}
    </View>
  );
}
```

You can also manually refresh the wallets by calling the `refreshWallets` function from the `useTurnkey` hook.

```tsx
import { Button, View } from "react-native";
import { useTurnkey } from "@turnkey/react-native-wallet-kit";

export function RefreshWalletsButton() {
  const { refreshWallets } = useTurnkey();

  return (
    <View style={{ padding: 16 }}>
      <Button title="Refresh Wallets" onPress={() => void refreshWallets()} />
    </View>
  );
}
```

## Creating wallet accounts

You can specify which accounts to create in the wallet by passing an array of account formats or account objects to the `accounts` parameter.

### Using address formats

You can use predefined account formats to create accounts in the wallet. The wallet account will be automatically created with the correct path and path index based on the existing wallet the sub-organization has.

```tsx
const ethereumOnlyWalletId = await createWallet({
  walletName: "Ethereum Only Wallet",
  accounts: ["ADDRESS_FORMAT_ETHEREUM"], // This will create one Ethereum account in the wallet
});

const solanaOnlyWalletId = await createWallet({
  walletName: "Solana Only Wallet",
  accounts: ["ADDRESS_FORMAT_SOLANA"], // This will create one Solana account in the wallet
});

const weirdWalletId = await createWallet({
  walletName: "Weird Wallet",
  accounts: [
    // This will create one Cosmos, one Sei, one Sui, two Ethereum, and three Solana accounts in the wallet
    "ADDRESS_FORMAT_COSMOS",

    "ADDRESS_FORMAT_SEI",

    "ADDRESS_FORMAT_SUI",

    "ADDRESS_FORMAT_ETHEREUM",
    "ADDRESS_FORMAT_ETHEREUM",

    "ADDRESS_FORMAT_SOLANA",
    "ADDRESS_FORMAT_SOLANA",
    "ADDRESS_FORMAT_SOLANA",
  ],
});
```

### Using account objects

You can also create accounts by passing an array of account objects. This allows you to specify the `curve`, `pathFormat`, `path`, and `addressFormat`.

```tsx
const customWalletId = await createWallet({
  walletName: "My Custom Ethereum Wallet",
  accounts: [
    {
      curve: "CURVE_SECP256K1",
      pathFormat: "PATH_FORMAT_BIP32",
      path: `m/44'/60'/0'/0/0`,
      addressFormat: "ADDRESS_FORMAT_ETHEREUM",
    },
  ],
});
```

### After wallet creation

You can use the `createWalletAccount` function to add more accounts to an _existing_ wallet.

```tsx
import { Button, View } from "react-native";
import { useTurnkey } from "@turnkey/react-native-wallet-kit";

export function AddAccountButton() {
  const { createWalletAccounts, wallets } = useTurnkey();

  const handleAddAccount = async () => {
    try {
      const addresses = await createWalletAccounts({
        walletId: wallets[0]?.walletId,
        accounts: ["ADDRESS_FORMAT_ETHEREUM"],
      });
      console.log("Accounts created:", addresses);
    } catch (error) {
      console.error("Error creating account:", error);
    }
  };

  return (
    <View style={{ padding: 16 }}>
      <Button title="Add Account" onPress={handleAddAccount} />
    </View>
  );
}
```

## Importing and exporting wallets

You can easily import and export wallets using the `importWallet` and `exportWallet` functions.

### Export

All export operations produce an encrypted `ExportBundle` using the target public key you provide.
You can scope exports to a sub-organization via `organizationId` (otherwise the current session's organization is used) and choose an authentication stamper via `stampWith` (Passkey, ApiKey).

#### Wallets

Export the specified wallet and its accounts as an encrypted bundle (suitable for backup or transfer).
This example generates a P-256 key pair, uses the uncompressed public key for encryption, and decrypts the resulting bundle with the private key to retrieve the mnemonic for user confirmation.

```tsx
import { Alert, Button, View } from "react-native";
import { useTurnkey } from "@turnkey/react-native-wallet-kit";
import { decryptExportBundle, generateP256KeyPair } from "@turnkey/crypto";

export function ExportWalletButton() {
  const { exportWallet, wallets, session } = useTurnkey();

  const handleExport = async () => {
    try {
      const walletId = wallets?.[0]?.walletId;
      if (!walletId) {
        Alert.alert("No wallet", "Create or select a wallet first");
        return;
      }

      const { privateKey, publicKeyUncompressed } = generateP256KeyPair();
      const targetPublicKey = publicKeyUncompressed;

      const bundle = await exportWallet({ walletId, targetPublicKey });
      console.log("Export bundle:", bundle);

      const mnemonic = await decryptExportBundle({
        exportBundle: bundle,
        embeddedKey: privateKey,
        organizationId: session?.organizationId!,
        returnMnemonic: true,
        keyFormat: "HEXADECIMAL",
      });

      Alert.alert("Success", `Wallet exported.\nMnemonic: ${mnemonic}`, [
        { text: "OK" },
      ]);
      // Persist bundle securely (e.g., file storage or your backend)
    } catch (error) {
      console.error("Export failed:", error);
      Alert.alert("Error", "Failed to export wallet");
    }
  };

  return (
    <View style={{ padding: 16 }}>
      <Button title="Export Wallet" onPress={handleExport} />
    </View>
  );
}
```

#### Wallet accounts

Export a single wallet account as an encrypted bundle and decrypt locally to reveal the private key (for demonstration only; never display sensitive material in production UIs).

```tsx
import { Alert } from "react-native";
import { useTurnkey } from "@turnkey/react-native-wallet-kit";
import { decryptExportBundle, generateP256KeyPair } from "@turnkey/crypto";

const { exportWalletAccount, wallets, session } = useTurnkey();

const address = wallets?.[0]?.accounts?.[0]?.address as string;
if (!address) {
  Alert.alert("No account", "Create/select a wallet account first");
} else {
  const { privateKey, publicKeyUncompressed } = generateP256KeyPair();
  const targetPublicKey = publicKeyUncompressed;

  const bundle = await exportWalletAccount({ address, targetPublicKey });
  console.log("Account export bundle:", bundle);

  const exportedPrivateKey = await decryptExportBundle({
    exportBundle: bundle,
    embeddedKey: privateKey,
    organizationId: session?.organizationId!,
    returnMnemonic: false,
    keyFormat: "HEXADECIMAL",
  });

  Alert.alert("Success", `Private key: ${exportedPrivateKey}`);
}
```

#### Private keys

Export a private key as an encrypted bundle for backup or transfer, then decrypt locally using the ephemeral private key.

```tsx
import { useTurnkey } from "@turnkey/react-native-wallet-kit";
import { decryptExportBundle, generateP256KeyPair } from "@turnkey/crypto";

const { exportPrivateKey, session } = useTurnkey();

const { privateKey, publicKeyUncompressed } = generateP256KeyPair();
const targetPublicKey = publicKeyUncompressed;

const bundle = await exportPrivateKey({
  privateKeyId: "<private-key-id>",
  targetPublicKey,
});

const rawPrivateKey = await decryptExportBundle({
  exportBundle: bundle,
  embeddedKey: privateKey,
  organizationId: session?.organizationId!,
  returnMnemonic: false,
  keyFormat: "HEXADECIMAL",
});
```

### Import

Imports consume an encrypted bundle and create resources under the current session's organization and user by default.
You can override both with `organizationId` and `userId`, and optionally choose a stamper via `stampWith` (Passkey, ApiKey).

#### Wallets

Imports a wallet from an encrypted bundle. Optionally pre-create accounts; defaults to standard Ethereum and Solana accounts if not provided.

```tsx
import { useTurnkey } from "@turnkey/react-native-wallet-kit";

const { importWallet, refreshWallets } = useTurnkey();

const walletId = await importWallet({
  encryptedBundle: "<export-bundle>",
  walletName: "Imported Wallet",
  // Optional: pre-create accounts on import
  // accounts: ["ADDRESS_FORMAT_ETHEREUM", "ADDRESS_FORMAT_SOLANA"],
});

await refreshWallets();
```

#### Private keys

Imports a private key from an encrypted bundle.

```tsx
import { useTurnkey } from "@turnkey/react-native-wallet-kit";

const { importPrivateKey } = useTurnkey();

const privateKeyId = await importPrivateKey({
  encryptedBundle: "<export-bundle>",
  privateKeyName: "My Key",
  // Provide at least one address format. Curve is inferred; can be specified.
  addressFormats: ["ADDRESS_FORMAT_ETHEREUM"],
  // curve: "CURVE_SECP256K1",
});
```

Notes (import):

- Provide one or more address formats; the cryptographic curve is inferred from the address format and can be overridden via `curve`.
- Wallet state is refreshed after wallet/account import and (when applicable) after export; call `refreshWallets()` at any time to ensure state is up to date.

## Next steps

Check out the [Signing](/sdks/react-native/signing) guide to learn how to sign transactions and messages with the embedded wallets you've created.

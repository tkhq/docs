---
title: "Social logins"
description: "Configure and implement social logins in your Android app using Turnkey's Kotlin SDK."
sidebarTitle: "Social logins"
---

## Configuring OAuth

Using OAuth requires a bit of configuration in the Turnkey Dashboard and your app configuration.

### Enabling OAuth

Navigate to the **Wallet Kit** section in the [Turnkey Dashboard](https://app.turnkey.com/dashboard/walletKit) and enable the
**OAuth**. Note if you have not enabled the Auth Proxy, you will need to do so first. Check out the [Getting Started](/sdks/kotlin/getting-started) guide for more details.

<img
  src="/images/sdks/img/enable-oauth.png"
  alt="OAuth providers configuration"
/>

### Configuring OAuth providers

You must enable the OAuth providers you want to use in the **Social logins** section.

<img
  src="/images/sdks/img/social-logins.png"
  alt="OAuth client IDs configuration"
/>

#### Client IDs

You can choose to enter your client IDs for each OAuth provider and the redirect url in the dashboard.

<img
  src="/images/sdks/img/google-client-id.png"
  alt="OAuth client IDs configuration"
/>

<img
  src="/images/sdks/img/oauth-redirect-url.png"
  alt="OAuth redirect URL configuration"
/>

Or, you can provide the client IDs and redirect URI through environment variables and pass them in the `TurnkeyConfig` used to initialize the SDK.
This is useful if you want to use different OAuth client IDs or a different redirect URL for different environments (e.g., development, staging, production).

You can retrieve the client IDs from the OAuth provider's dashboard. Note that the redirect URI must match the one you configured in the dashboard or in the TurnkeyConfig.

<Note>
  For OAuth2.0 providers, you will need to upload the client ID and secret in
  the dashboard. Check out the [OAuth2.0
  providers](/sdks/kotlin/authentication/social-logins#oauth2-0-providers)
  section for more details.
</Note>

#### Client Configuration

In order to catch the OAuth redirect in your app, you must add the OAuth redirect activity to your `AndroidManifest.xml` with a valid **app scheme**.

```xml
<activity
    android:name="com.turnkey.core.OAuthRedirectActivity"
    android:launchMode="singleTop"
    android:noHistory="true"
    android:exported="true">
    <intent-filter>
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.DEFAULT" />
        <category android:name="android.intent.category.BROWSABLE" />
        <data android:scheme="<your-app-scheme>" />
    </intent-filter>
</activity>
```

> This activity will allow the Turnkey SDK to handle the OAuth redirect and complete the login flow.

Ensure you provide the **same** app scheme in your `TurnkeyConfig` used to initialize the SDK.

```kotlin
import android.app.Application
import com.turnkey.core.TurnkeyContext
import com.turnkey.models.TurnkeyConfig
import com.turnkey.models.AuthConfig
import com.turnkey.models.OAuthConfig

class App : Application() {
    override fun onCreate() {
        super.onCreate()

        TurnkeyContext.init(
            app = this,
            // the rest of your config params...
            config = TurnkeyConfig(
                appScheme = "<your-app-scheme>", // Required for deep link completion
                 authConfig = AuthConfig(
                    // You can also provide these values through the Turnkey dashboard:
                    // Note: If no redirect URI is provided, the default redirect URI will be used `https://oauth-redirect.turnkey.com`
                    oAuthConfig = OAuthConfig(
                        oauthRedirectUri = "<your-redirect-uri>",

                        // You will typically get these from the OAuth provider's dashboard. Eg: Google developer console.
                        googleClientId = "<google-client-id>",
                        appleClientId = "<apple-client-id>",
                        xClientId = "<x-client-id>",
                        discordClientId = "<discord-client-id>"
                    )
                )
            )
        )
    }
}
```

## Usage

In your app, call the corresponding helper for each provider from `TurnkeyContext`: `handleGoogleOAuth`, `handleAppleOAuth`, `handleDiscordOAuth`, and `handleXOAuth`.

```kotlin
import android.os.Bundle
import android.widget.Button
import androidx.appcompat.app.AppCompatActivity
import androidx.lifecycle.lifecycleScope
import com.turnkey.core.TurnkeyContext
import kotlinx.coroutines.launch

class MainActivity : AppCompatActivity() {
    private val activity = this

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        val googleOAuthButton = findViewById<Button>(R.id.googleOAuthButton)
        googleOAuthButton.setOnClickListener {
            lifecycleScope.launch {
                try {
                    TurnkeyContext.handleGoogleOAuth(activity = activity)
                } catch (t: Throwable) {
                    println(t)
                }
            }
        }

        val appleOAuthButton = findViewById<Button>(R.id.appleOAuthButton)
        appleOAuthButton.setOnClickListener {
            lifecycleScope.launch {
                try {
                    TurnkeyContext.handleAppleOAuth(activity = activity)
                } catch (t: Throwable) {
                    println(t)
                }
            }
        }

        val xOAuthButton = findViewById<Button>(R.id.xOAuthButton)
        xOAuthButton.setOnClickListener {
            lifecycleScope.launch {
                try {
                    TurnkeyContext.handleXOAuth(activity = activity)
                } catch (t: Throwable) {
                    println(t)
                }
            }
        }

        val discordOAuthButton = findViewById<Button>(R.id.discordOAuthButton)
        discordOAuthButton.setOnClickListener {
            lifecycleScope.launch {
                try {
                    TurnkeyContext.handleDiscordOAuth(activity = activity)
                } catch (t: Throwable) {
                    println(t)
                }
            }
        }
    }
}
```

## Provider details

### OAuth providers

#### Google

Requirements: 

- Dashboard: Enable Google OAuth and provide client ID and secret.
- Client ID: use a Web client ID in the Google developer console and set it in the Dashboard or in the `TurnkeyContext.init`'s config.

#### Apple

Requirements:

- Turnkey Dashboard: Enable Apple OAuth
- Client ID: set Apple Services ID in the Dashboard or in the `TurnkeyContext.init`'s config.
- Provider Dashboard: Set the Redirect URI to `myapp://`

### OAuth2.0 providers

For OAuth providers that exclusively use OAuth2.0 (e.g., X, Discord), you will need to configure a few additional settings in your Turnkey Dashboard.

In the **Wallet Kit** section of the dashboard, head to the **Socials** tab and click **Add provider**.

<img
  src="/images/sdks/img/socials-page.png"
  alt="OAuth2.0 providers configuration"
/>

Select the provider you want to add from the dropdown, and fill in the required fields.
You can find these values in the provider's developer console.
Any secrets will automatically be encrypted before uploading to Turnkey.

<img
  src="/images/sdks/img/add-provider-modal.png"
  alt="Adding an OAuth2.0 provider"
/>

Once you've added the provider, head back to the **Authentication** tab, and enable the provider you just added under the **SDK Configuration** section.

Click **Select** to choose your newly added client ID, then click **Save Settings**. You can also simply enter the client ID in the `TurnkeyContext.init`'s config as shown above.

<img
  src="/images/sdks/img/twitter-client-id.png"
  alt="Selecting an OAuth2.0 provider"
/>

#### Discord

Requirements:

- Turnkey Dashboard: enable Discord (OAuth 2.0 provider).
- Client ID: set in Dashboard or in the `TurnkeyContext.init`'s config.
- Provider Dashboard: Set the Redirect URI to `myapp://`

#### X (Twitter)

Requirements:

- Turnkey Dashboard: enable X (OAuth 2.0 provider).
- Client ID: set in Dashboard or in the `TurnkeyContext.init`'s config.
- Provider Dashboard: Set the Redirect URI to `myapp://`
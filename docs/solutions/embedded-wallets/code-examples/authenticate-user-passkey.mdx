---
title: "Authenticate a User with a Passkey Credential"
sidebar_position: 2
description: Authenticate a User with a Passkey Credential
slug: /embedded-wallets/code-examples/authenticate-user-passkey
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";
import Parameter from "@site/src/components/parameter";

#### 1. Initialize the Passkey Client
<CodeBlock language="typescript">
{`import { Turnkey, TurnkeySDKBrowserConfig } from "@turnkey/sdk-browser";`}
{`\nimport turnkeyConfig from "./turnkey.json"`}
{`\n\nconst turnkey = new Turnkey(turnkeyConfig);`}
{`\nconst passkeyClient = turnkey.passkeyClient();`}
</CodeBlock>

#### 2. Call the login function

<CodeBlock language="typescript">
{`const response = await passkeyClient.login();`}
{`\nif (response.organizationId) {
  navigate("/authenticated-route")
} else {
  navigate("/not-authenticated-route")
}`}
</CodeBlock>

#### 3. Make read requests on behalf of the authenticated user from the `currentUserSession`

<CodeBlock language="typescript">
{`const currentUserSession = await turnkey.currentUserSession();`}
{`\nconst walletsResponse = await currentUserSession.getWallets()`}
{`\nconst walletName = walletsResponse.wallets[0].walletName`}
</CodeBlock>

#### 4. Call the `passkeyClient` directly for write requests

This will always prompt a user to confirm the action with their passkey credential

<CodeBlock language="typescript">
{`import { DEFAULT_ETHEREUM_ACCOUNTS } from "@turnkey/sdk-browser";`}
{`\nconst newWalletResponse = await passkeyClient.createWallet({
  walletName: "New Wallet for User",
  accounts: DEFAULT_ETHEREUM_ACCOUNTS
})`}
</CodeBlock>
